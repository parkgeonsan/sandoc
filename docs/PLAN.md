# sandoc — 사업계획서 자동 작성 시스템

## 비전
**"서류 넣고, 대화하고, 완성본 받는다"**

공고 서류를 폴더에 넣으면 AI가 분석하고, 대화로 부족한 정보를 채우고, 양식 그대로 완성된 사업계획서를 출력하는 시스템.

---

## 시스템 아키텍처

```
┌─────────────────────────────────────────────────┐
│                   sandoc 시스템                   │
│                                                   │
│  ┌──────────┐   ┌──────────┐   ┌──────────────┐  │
│  │ 문서엔진  │   │  AI 코어  │   │  지식 저장소  │  │
│  │(hwpx-mcp)│◄─►│(Claude)  │◄─►│(knowledge/) │  │
│  └──────────┘   └────┬─────┘   └──────────────┘  │
│                      │                            │
│  ┌──────────┐   ┌────┴─────┐   ┌──────────────┐  │
│  │ 문서분류기│   │ 프로세스  │   │  프로필 DB   │  │
│  │(자동판별)│◄─►│ 컨트롤러 │◄─►│(profiles/)  │  │
│  └──────────┘   └──────────┘   └──────────────┘  │
└─────────────────────────────────────────────────┘
```

### 핵심 모듈

**1. 문서엔진 (hwpx-mcp-server)**
- HWP/HWPX 읽기 → 텍스트 + 구조 추출
- HWP → HWPX 자동 변환
- HWPX 쓰기 → 양식 유지하며 내용 삽입
- 표 셀 단위 조작

**2. 문서분류기**
- docs/ 폴더의 모든 파일을 스캔
- 파일 내용 기반 역할 자동 판별
- 분류 기준:
  - 공고문/모집요강: "심사기준", "지원자격", "접수기간" 등 키워드
  - 양식: 빈 칸, "작성요령", 반복 구조
  - 사업자등록증: "사업자등록번호", "대표자" 등
  - 회사소개서: "연혁", "조직도", "주요사업"
  - 재무제표: "매출액", "영업이익", "대차대조표"
  - 기타 참고자료: 위에 해당 안 되는 것

**3. AI 코어 (Claude Code)**
- 단계별 프로세스 진행
- 심사기준 기반 콘텐츠 생성
- 정부 사업계획서 문체 적용
- 사용자와 대화형 정보 수집

**4. 지식 저장소 (knowledge/)**
- 공고 유형별 패턴 축적
- 심사기준 패턴 학습
- 자주 쓰는 표현/문구 DB
- 완성된 사업계획서에서 피드백 학습

**5. 프로필 DB (profiles/)**
- 회사별 기본 정보 저장
- 한번 입력 → 모든 사업에 재사용
- 사업자등록증에서 자동 추출 가능

---

## 📂 폴더 구조

```
~/001_Projects/H1-sandoc/
├── CLAUDE.md                    # Claude Code 프로젝트 지침
├── config/
│   └── settings.json            # 시스템 설정
├── profiles/                    # 회사 프로필 DB
│   ├── {회사명}.md              # 회사별 프로필
│   └── _template.md             # 프로필 템플릿
├── projects/                    # 사업별 작업 폴더
│   └── {YYYY-사업명}/
│       ├── docs/                # 서류 통째로 넣는 곳
│       ├── output/              # 생성 결과물
│       │   ├── 사업계획서.hwpx  # 최종본
│       │   ├── drafts/          # 섹션별 초안
│       │   └── review.md        # 자가 심사 리포트
│       └── context.md           # 자동 생성 (분석+진행상황)
├── knowledge/                   # 축적 지식
│   ├── patterns/                # 공고 유형별 패턴
│   ├── expressions/             # 자주 쓰는 표현 DB
│   ├── scoring/                 # 심사기준 분석 패턴
│   └── lessons.md               # 작성 후 교훈/피드백
└── docs/
    └── PLAN.md                  # 이 파일
```

---

## 🔄 프로세스 설계

### Phase 0: 프로젝트 생성
```
트리거: "새 사업: {사업명}"
   │
   ├── projects/{YYYY-사업명}/ 폴더 생성
   ├── docs/, output/, output/drafts/ 하위 폴더 생성
   └── "docs/ 폴더에 관련 서류를 넣어주세요" 안내
       - 공고문, 모집요강, 양식
       - 사업자등록증, 회사소개서 (없으면 프로필에서)
       - 참고할 자료 아무거나
```

### Phase 1: 서류 스캔 & 분류
```
트리거: "서류 넣었어" / "분석해줘"
   │
   ├── docs/ 전체 파일 스캔
   │   ├── 파일 형식 판별 (HWP/PDF/이미지/DOCX/엑셀)
   │   ├── 각 파일 내용 추출
   │   │   ├── HWP/HWPX → hwpx-mcp read_text
   │   │   ├── PDF → 텍스트 추출 / OCR
   │   │   ├── 이미지 → vision OCR  
   │   │   └── DOCX/기타 → 텍스트 추출
   │   └── 역할 자동 분류 (공고문/양식/증빙/참고)
   │
   ├── 분류 결과 → context.md에 저장
   │   {
   │     "files": [
   │       { "name": "...", "type": "공고문", "summary": "..." },
   │       { "name": "...", "type": "양식", "sections": [...] },
   │       ...
   │     ]
   │   }
   │
   ├── 분류 결과 사용자에게 보고
   │   "📋 공고문: 2026년도_중소기업_스마트공장_공고.hwp
   │    📝 양식: 사업계획서_양식.hwp (8개 섹션)
   │    🏢 사업자등록증: scan.jpg
   │    📎 참고: 작년_실적보고서.pdf"
   │
   └── 분류 틀리면 사용자가 교정 가능
       "공고문으로 분류된 건 실은 참고자료야" → 재분류
```

### Phase 2: 공고 심층 분석
```
자동 진행:
   │
   ├── 공고문/모집요강에서 추출:
   │   ├── 사업 개요 (목적, 규모, 기간)
   │   ├── 지원 자격 요건
   │   ├── 지원 제외 대상
   │   ├── 지원 금액/비율
   │   ├── 심사 기준 & 배점표
   │   │   예: 기술성 30점, 사업성 25점, 대표역량 20점...
   │   ├── 필수 제출서류 목록
   │   ├── 접수 기간 & 방법
   │   └── 주의사항/특이사항
   │
   ├── 양식에서 추출:
   │   ├── 전체 섹션 구조
   │   │   예: 1.사업개요, 2.기업현황, 3.기술개발 내용...
   │   ├── 각 섹션의 하위 항목
   │   ├── 표 구조 (행/열/셀병합)
   │   ├── 글자수/페이지 제한 (있으면)
   │   └── 작성 가이드/주의사항 (양식에 포함된 경우)
   │
   ├── 심사기준 ↔ 양식 섹션 매핑
   │   "기술성 30점 → 섹션 3,4에서 어필"
   │   "사업성 25점 → 섹션 5,6에서 어필"
   │
   ├── knowledge/에서 유사 공고 패턴 검색
   │   이전에 작성한 비슷한 공고 경험 활용
   │
   └── 분석 결과 보고 + context.md 업데이트
```

### Phase 3: 정보 수집 & 전략 수립
```
   ├── 프로필 DB에서 회사 정보 로드
   │   profiles/{회사명}.md → 기본정보, 연혁, 재무 등
   │
   ├── docs/의 참고자료에서 추가 정보 추출
   │   회사소개서, 실적보고서, 인증서 등
   │
   ├── 부족한 정보만 사용자에게 질문
   │   ✅ 이미 있는 정보는 묻지 않음
   │   ❓ "이 사업의 핵심 기술/아이디어는?"
   │   ❓ "기존에 관련 경험이나 실적이 있나요?"
   │   ❓ "희망 사업비 규모는?"
   │   ❓ "사업 완료 후 기대 성과는?"
   │
   ├── 작성 전략 수립
   │   ├── 심사기준별 어필 포인트 설정
   │   ├── 강점 부각 / 약점 보완 전략
   │   ├── 차별화 포인트 설정
   │   └── 섹션별 분량 배분
   │
   └── 전략 보고 → 사용자 확인
       "이런 방향으로 작성하려 합니다:
        - 기술성: OO 기술의 독창성 강조
        - 사업성: 기존 고객사 실적 활용
        OK?"
```

### Phase 4: 초안 작성
```
   ├── 섹션별 순차 작성
   │   ├── 각 섹션을 output/drafts/{섹션번호}-{섹션명}.md로 저장
   │   ├── 심사기준 배점 높은 섹션부터 작성
   │   ├── 정부 사업계획서 문체 적용
   │   │   - 객관적, 구체적, 수치 기반
   │   │   - "~할 것이다" → "~할 계획이며, 이를 통해 ~효과 기대"
   │   │   - 도표/표 적극 활용
   │   └── 각 섹션 작성 시 심사기준 체크
   │
   ├── 표/차트 데이터 생성
   │   ├── 추진일정표 (간트차트 형태)
   │   ├── 소요예산 내역서
   │   ├── 인력투입 계획
   │   └── 기대효과 정량화
   │
   └── 초안 전체 요약 보고
       "8개 섹션 초안 작성 완료.
        output/drafts/ 에서 확인하세요.
        특히 검토 필요: 섹션3(기술내용), 섹션6(예산)"
```

### Phase 5: 리뷰 & 수정 루프
```
   ├── 사용자 피드백 수집
   │   "섹션 2 좀 더 구체적으로"
   │   "예산 항목에 인건비 추가해줘"
   │   "전체적으로 톤이 너무 딱딱해"
   │
   ├── 수정 반영
   │   ├── 해당 섹션 수정 → drafts/ 업데이트
   │   ├── 연관 섹션 일관성 체크
   │   │   (예: 예산 변경 → 사업비 총괄표도 수정)
   │   └── 수정 이력 context.md에 기록
   │
   ├── 자가 심사 (사용자 요청 시)
   │   ├── 심사기준별 예상 점수 부여
   │   ├── 부족한 부분 지적
   │   ├── 개선 제안
   │   └── output/review.md에 저장
   │
   └── 반복 (사용자가 OK할 때까지)
```

### Phase 6: 최종 출력
```
   ├── 최종 확인
   │   ├── 양식 섹션 누락 체크
   │   ├── 필수 항목 빠진 거 없는지
   │   ├── 글자수/페이지 제한 확인
   │   └── 오탈자/문법 체크
   │
   ├── HWP 양식에 삽입
   │   ├── 원본 양식 HWPX 백업
   │   ├── hwpx-mcp로 각 섹션 내용 삽입
   │   ├── 표 셀에 데이터 채우기
   │   ├── 서식(폰트, 크기, 정렬) 유지
   │   └── output/사업계획서.hwpx 저장
   │
   ├── 최종 리포트
   │   ├── 자가 심사 점수
   │   ├── 보완 추천 사항
   │   └── 제출 전 체크리스트
   │
   └── 지식 축적
       ├── 이 공고의 패턴 → knowledge/patterns/에 저장
       ├── 효과적이었던 표현 → knowledge/expressions/에 저장
       └── 교훈 → knowledge/lessons.md에 추가
```

---

## 🔁 지식 축적 시스템

```
┌─────────────┐    ┌──────────────┐    ┌─────────────┐
│ 사업계획서   │    │              │    │ 다음 사업    │
│ 작성 완료    │───►│ 패턴 추출    │───►│ 계획서에     │
│              │    │ & 저장       │    │ 자동 활용    │
└─────────────┘    └──────────────┘    └─────────────┘

축적되는 지식:
├── 공고 유형별 양식 구조 패턴
│   "중기부는 보통 8섹션, 기술성/사업성/역량 배점"
├── 심사위원이 좋아하는 표현
│   "정량적 목표: 매출 30% 증가 → 구체적 수치"
├── 자주 빠뜨리는 항목
│   "추진일정에 마일스톤 빠짐"
├── 예산 작성 패턴
│   "인건비 비율 보통 40-50%"
└── 실패/성공 피드백
    "지난번 탈락 사유: 기술 차별성 부족"
```

### knowledge/ 구조
```
knowledge/
├── patterns/
│   ├── 중기부-스마트공장.md      # 공고 유형별 패턴
│   ├── 과기부-R&D.md
│   └── 지자체-창업지원.md
├── expressions/
│   ├── 기술성.md                 # "본 기술은 기존 대비..."
│   ├── 사업성.md                 # "시장 규모는 연평균..."
│   └── 공통.md                   # 자주 쓰는 문구
├── scoring/
│   ├── 심사기준-매핑.md          # 기준↔섹션 매핑 패턴
│   └── 고득점-전략.md            # 항목별 어필 포인트
└── lessons.md                    # 작성 후 교훈
```

---

## 🛡️ 품질 관리 체계

### 자가 심사 시스템
```
심사기준표 (공고에서 추출)
├── 기술성 (30점)
│   ├── 기술의 독창성/차별성  [?/10]
│   ├── 기술적 실현 가능성    [?/10]
│   └── 기술의 파급효과       [?/10]
├── 사업성 (25점)
│   ├── 시장 분석의 적절성    [?/10]
│   ├── 사업화 전략           [?/10]
│   └── 매출 계획 타당성      [?/5]
├── ...
└── 총점: ?/100
    ├── 80점 이상 → "제출 추천"
    ├── 60-80점 → "보완 후 제출"
    └── 60점 미만 → "재작성 권장"
```

### 일관성 체크
- 사업비 총액 = 각 항목 합계
- 인력 투입 = 조직도와 일치
- 추진일정 = 사업기간 내
- 기대효과 수치 = 현황 대비 합리적
- 전체 문서 내 회사명/대표자명 통일

---

## ⚙️ 시스템 설정

### config/settings.json
```json
{
  "defaultProfile": null,
  "documentEngine": {
    "type": "hwpx-mcp-server",
    "config": {
      "pagingLimit": 500,
      "autoBackup": true,
      "hardening": true
    }
  },
  "writing": {
    "style": "formal-government",
    "maxDraftIterations": 10,
    "autoSelfReview": true
  },
  "output": {
    "format": ["hwpx"],
    "backupOriginal": true,
    "generateReview": true
  }
}
```

### CLAUDE.md (Claude Code 동작 지침)
```
프로젝트 진입 시:
1. config/settings.json 로드
2. 활성 프로젝트 확인 (projects/ 중 context.md의 status)
3. 해당 프로젝트의 현재 Phase 이어서 진행

규칙:
- 한 Phase 완료 시 반드시 사용자 확인 받기
- 모든 진행 상황 context.md에 실시간 기록
- 추측하지 말고 서류에 있는 내용 기반으로 작성
- 정량적 수치는 반드시 출처 표기 (어떤 서류에서 가져왔는지)
- 없는 수치 날조 금지 → 사용자에게 확인 요청
```

---

## 📋 프로필 템플릿

### profiles/_template.md
```markdown
# 회사 프로필

## 기본 정보
- 회사명:
- 대표자:
- 사업자등록번호:
- 법인등록번호:
- 설립일:
- 업종(업태/종목):
- 주소:
- 연락처:
- 이메일:
- 홈페이지:

## 회사 소개
(회사 비전, 미션, 핵심 역량)

## 주요 사업/제품/서비스
- 

## 연혁
| 연도 | 내용 |
|------|------|
| | |

## 조직 & 인력
- 총 직원 수:
- 연구인력:
- 조직도: (설명 또는 파일 첨부)

## 재무 현황
| 연도 | 매출액 | 영업이익 | 당기순이익 |
|------|--------|----------|------------|
| | | | |

## 보유 인증/특허/지적재산
- 

## 수상/인정
-

## 기존 정부사업 수행 이력
| 사업명 | 주관기관 | 기간 | 결과 |
|--------|----------|------|------|
| | | | |

## 주요 거래처/고객사
-

## 기타 특이사항
-
```

---

---

## 🔍 경쟁 분석 & 벤치마크

### 기존 시스템 조사

**1. BizPlan AI (bizplan-ai)** — 예비창업패키지 사업계획서 자동 생성
- 기술: Next.js + GPT-4o + Tavily API (시장조사)
- 플로우: 7단계 입력 폼 → AI 생성 → 미리보기 → DOCX/PDF 출력
- 특징:
  - 실시간 시장조사 (Tavily API로 최신 데이터 자동 수집)
  - 이력서 PDF/DOCX 업로드 → 팀 정보 자동 파싱
  - 섹션별 자연어 커스터마이징 ("이 부분 이렇게 바꿔줘")
  - 15장 분량 자동 보장 (페이지 계산 시스템)
  - 7단계: 프로젝트설정 → 사업정보 → 시장조사 → 팀정보 → 사업모델 → 재무계획 → 양식선택
- 한계: 웹 전용, HWP 미지원, 예비창업패키지 특화 (범용 X)

**2. 정부 지원 플랫폼**
- K-Startup (k-startup.go.kr) — 창업지원포털, 공고 열람/접수
- 기업마당 (bizinfo.go.kr) — 지원사업 통합 검색
- 소상공인24 (sbiz24.kr) — 소상공인 지원
- 이들은 공고 게시만 할 뿐, 작성 도구는 없음

**3. 전문 컨설팅 업체**
- 사업계획서 대필 서비스 (건당 100~500만원)
- 템플릿 판매 서비스

### sandoc의 차별점

| 항목 | BizPlan AI | 대필 업체 | sandoc |
|------|-----------|----------|--------|
| HWP 양식 지원 | ❌ DOCX만 | ✅ | ✅ MCP로 직접 조작 |
| 원본 양식 유지 | ❌ 자체 양식 | ✅ | ✅ 공고 양식 그대로 |
| 공고 자동 분석 | ❌ 수동 입력 | 사람이 분석 | ✅ AI 자동 |
| 시장 조사 | ✅ Tavily | 사람이 조사 | ✅ 추가 가능 |
| 비용 | 무료/API비 | 100~500만 | 무료/API비 |
| 범용성 | 예비창업만 | 범용 | ✅ 모든 공고 |
| 지식 축적 | ❌ | 사람 경험 | ✅ 자동 |
| 심사기준 매핑 | ❌ | ✅ | ✅ 자동 |

---

## 📌 sandoc에 추가할 프로세스 & 스킬

### 벤치마크에서 배울 점

**1. 시장조사 자동화 (BizPlan AI에서 차용)**
```
Phase 3에 추가:
├── 사업 아이디어 관련 시장 데이터 자동 수집
│   ├── 시장 규모, 성장률
│   ├── 경쟁사 현황
│   ├── 관련 정책/트렌드
│   └── 출처 포함 (통계청, KOSIS 등)
├── 수집된 데이터를 사업계획서에 자동 반영
└── 수치에 반드시 출처 표기
```

**2. 이력서/경력 자동 파싱 (BizPlan AI에서 차용)**
```
docs/ 폴더에 넣을 수 있는 서류 확장:
├── 대표자 이력서 → 경력사항 자동 추출
├── 핵심 인력 이력서 → 팀 구성표 자동 생성
├── 특허증/인증서 → 보유 기술 자동 정리
└── 기존 사업 수행 실적 보고서 → 실적 요약
```

**3. 분량 관리 시스템**
```
Phase 4에 추가:
├── 공고에서 페이지 제한 자동 추출
├── 섹션별 분량 배분 (심사 배점 비례)
│   예: 기술성 30점 → 전체의 30% 분량 배분
├── 작성 중 실시간 분량 체크
└── 부족하면 보충, 초과하면 압축
```

**4. 재무 계획 자동 생성**
```
Phase 4 표/차트에 추가:
├── 매출 추정표 (3~5년)
│   ├── 시장 규모 기반 점유율 산정
│   └── 보수적/기본/낙관적 시나리오
├── 소요 예산 내역서
│   ├── 인건비 (직급별 × 투입기간)
│   ├── 재료비, 외주비
│   ├── 간접비 (비율 자동 계산)
│   └── 정부 출연금 vs 자부담 비율
├── 손익분기점 분석
└── 투자 회수 기간
```

**5. 제출 전 체크리스트 자동화**
```
Phase 6에 추가:
├── 필수 서류 누락 체크
│   ├── 공고에서 요구하는 첨부서류 목록 추출
│   └── docs/에 있는 서류와 매칭
├── 자격 요건 자가 진단
│   ├── 업종 코드 일치 여부
│   ├── 매출 기준 충족 여부
│   ├── 기업 규모 (중소/중견/대) 확인
│   └── 제외 대상 해당 여부
├── 양식 완성도 체크
│   ├── 빈 칸 없는지
│   ├── 날짜/서명란
│   └── 인감/직인 필요 여부
└── 접수 방법 안내
    ├── 온라인 접수 URL
    ├── 접수 마감일/시간
    └── 주의사항
```

**6. 공고 모니터링 (확장 기능)**
```
knowledge/ 확장:
├── 관심 공고 키워드 설정
│   예: "스마트공장", "AI", "디지털전환"
├── k-startup, bizinfo 등에서 자동 크롤링
├── 매칭되는 공고 발견 시 알림
└── 공고 마감일 리마인더
```

---

---

## 📚 시스템이 학습해야 할 지식

### 1. 정부 사업계획서 도메인 지식
```
knowledge/domain/
├── government-writing-style.md    # 정부 사업계획서 문체/톤
│   ├── 객관적 서술 (주관 배제)
│   ├── 정량적 표현 ("약 30%" → "전년 대비 32.5% 증가 (출처: 통계청)")
│   ├── 수동태/명사형 ("~을 추진함", "~에 기여할 것으로 사료됨")
│   ├── 피해야 할 표현 ("매우", "엄청난", "획기적")
│   └── 핵심 문구 패턴 DB
│
├── scoring-system.md              # 심사 체계 이해
│   ├── 서면 심사 → 발표 심사 → 현장 심사 구조
│   ├── 배점 항목별 평가 포인트
│   │   ├── 기술성: 독창성, 실현가능성, 파급효과
│   │   ├── 사업성: 시장분석, 수익모델, 성장전략
│   │   ├── 대표역량: 관련경력, 전문성, 수행능력
│   │   └── 사업계획 적정성: 일정, 예산, 목표
│   ├── 감점 요인 (표절, 허위기재, 양식 불일치)
│   └── 가산점 요인 (지역, 업종, 사회적가치)
│
├── budget-rules.md                # 예산 편성 규칙
│   ├── 정부출연금 vs 자부담 비율 (보통 7:3, 8:2)
│   ├── 인건비 계산 기준 (직급별 월급여 × 참여율 × 기간)
│   ├── 간접비 비율 (보통 직접비의 10~20%)
│   ├── 항목별 상한선/하한선
│   ├── 집행 불가 항목 (접대비, 회식비 등)
│   └── 공고별 예산 편성 가이드
│
├── document-types.md              # 공고 문서 유형별 특성
│   ├── 예비창업패키지 (K-Startup)
│   ├── 초기창업패키지
│   ├── 스마트공장 구축 지원
│   ├── R&D 과제 (과기부)
│   ├── 지역 특화 사업 (지자체)
│   └── 각 유형별: 양식구조, 심사기준, 핵심 키워드
│
└── common-mistakes.md             # 흔한 실수 & 탈락 사유
    ├── 기술 내용이 추상적 (구체적 방법론 없음)
    ├── 시장 분석이 일반적 (차별화 부족)
    ├── 예산이 비현실적 (너무 높거나 낮음)
    ├── 일정이 비합리적
    ├── 양식 형식 불일치
    └── 기존 수행실적 미기재
```

### 2. 문서 처리 기술 지식
```
knowledge/tech/
├── hwp-structure.md               # HWP/HWPX 파일 구조 이해
│   ├── HWPX = ZIP 압축 XML 묶음
│   ├── 섹션/문단/표/셀 계층 구조
│   ├── 스타일 시스템 (글꼴, 크기, 정렬)
│   ├── hwpx-mcp 도구별 용도 매핑
│   └── 표 조작 시 주의점 (셀병합, 너비)
│
├── ocr-patterns.md                # OCR 처리 패턴
│   ├── 사업자등록증 필드 위치/패턴
│   ├── 특허증/인증서 구조
│   ├── 재무제표 표 인식
│   └── 이미지 품질별 대응 전략
│
└── market-research.md             # 시장조사 데이터 소스
    ├── 통계청 KOSIS (kostat.go.kr)
    ├── 산업연구원 (kiet.re.kr)
    ├── 중소벤처기업부 통계
    ├── 특허정보넷 KIPRIS (kipris.or.kr)
    └── 데이터 인용 형식
```

### 3. 프로세스 학습 데이터
```
knowledge/process/
├── successful-plans/              # 성공 사례 (선정된 사업계획서 패턴)
│   ├── 구조 분석
│   ├── 표현 패턴
│   └── 수치 활용법
├── feedback-log.md                # 사용자 피드백 이력
│   ├── "이 부분 너무 딱딱해" → 톤 조절 학습
│   ├── "수치가 비현실적" → 검증 기준 강화
│   └── 반복되는 수정 패턴 분석
└── reviewer-perspective.md        # 심사위원 관점
    ├── 심사위원이 짧은 시간에 보는 포인트
    ├── 첫 페이지에서 판단되는 것들
    ├── "한 눈에 들어오는" 구성법
    └── 차별화가 드러나는 위치
```

---

## 👥 H1 팀 구성 (Claude Code Subagents)

3명의 전문가 서브에이전트로 구성. 메인 Claude Code가 프로젝트 매니저(PM) 역할을 하며 팀원에게 작업을 위임.

```
┌──────────────────────────────────────────┐
│           메인 Claude Code (PM)           │
│   - 전체 프로세스 관리                     │
│   - 사용자와 대화                          │
│   - 팀원에게 작업 위임 & 결과 통합          │
└────────┬──────────┬──────────┬───────────┘
         │          │          │
    ┌────▼────┐ ┌───▼────┐ ┌──▼──────┐
    │ 📋 분석관 │ │ ✍️ 작성관│ │ 📐 문서관 │
    │ (Analyst)│ │(Writer)│ │(DocEng) │
    └─────────┘ └────────┘ └─────────┘
```

### 팀원 1: 📋 분석관 (Analyst)

**역할:** 서류 분석, 공고 파싱, 시장 조사, 심사기준 매핑
**담당 Phase:** 1 (서류 스캔), 2 (공고 분석), 자가 심사

```yaml
# .claude/agents/analyst.md
---
name: analyst
description: >
  사업 공고문과 서류를 분석하는 전문가.
  docs/ 폴더의 파일을 읽고 분류하고, 공고의 심사기준/자격요건을 추출하고,
  시장 조사를 수행하고, 자가 심사 리포트를 작성한다.
  서류 분석, 공고 파싱, 시장 조사, 심사기준 매핑 작업에 사용한다.
tools:
  - Read
  - Glob
  - Grep
  - Bash
  - mcp__hwpx__read_text
  - mcp__hwpx__list_pages
  - mcp__hwpx__search_text
model: sonnet
---

당신은 정부 지원사업 공고 분석 전문가입니다.

## 핵심 역량
- HWP/PDF 문서에서 핵심 정보 추출
- 공고문의 심사기준, 배점, 자격요건 파악
- 서류 자동 분류 (공고문/양식/증빙/참고자료)
- 시장 데이터 수집 및 정리
- 심사기준 ↔ 양식 섹션 매핑

## 작업 규칙
- 분석 결과는 항상 context.md에 구조화해서 저장
- 추측 금지 — 문서에 명시된 내용만 추출
- 수치에는 반드시 출처(어떤 문서의 몇 페이지)를 표기
- 분류가 애매한 서류는 "기타"로 분류하고 사유 명시
```

### 팀원 2: ✍️ 작성관 (Writer)

**역할:** 사업계획서 콘텐츠 작성, 문체 관리, 수정 반영
**담당 Phase:** 3 (전략 수립), 4 (초안 작성), 5 (리뷰 & 수정)

```yaml
# .claude/agents/writer.md
---
name: writer
description: >
  정부 사업계획서 콘텐츠를 작성하는 전문가.
  분석관이 정리한 공고 분석과 심사기준을 바탕으로
  각 섹션의 초안을 작성하고, 피드백을 반영하여 수정한다.
  사업계획서 초안 작성, 섹션 수정, 문체 조정 작업에 사용한다.
tools:
  - Read
  - Write
  - Edit
  - Glob
  - Grep
  - Bash
model: opus
---

당신은 정부 사업계획서 작성 전문 카피라이터입니다.

## 핵심 역량
- 정부 사업계획서 문체 (객관적, 정량적, 구체적)
- 심사기준 배점에 맞춘 전략적 콘텐츠 배치
- 표/차트/수치 기반 서술
- 재무계획 (매출추정, 예산서, 손익분기점)
- 추진일정 (간트차트 형태)

## 작업 규칙
- context.md의 분석 결과를 반드시 참고
- 각 섹션을 output/drafts/{번호}-{섹션명}.md로 저장
- 심사기준 배점 높은 섹션에 더 많은 분량 배분
- 없는 수치 날조 금지 — "[확인 필요]" 태그 사용
- knowledge/expressions/에서 검증된 표현 우선 사용
- 수정 시 연관 섹션 일관성 체크 (예산↔총괄표)

## 문체 가이드
- "~할 것이다" → "~을 추진하며, 이를 통해 ~효과를 달성할 계획임"
- 수치는 항상 비교 기준 포함 ("전년 대비 32% 증가")
- 문단 시작은 핵심 주장 → 근거 → 기대효과 순서
- 표는 텍스트보다 정보 밀도가 높으므로 적극 활용
```

### 팀원 3: 📐 문서관 (DocEngine)

**역할:** HWP 양식 조작, 최종 문서 생성, 포맷팅, 품질 검증
**담당 Phase:** 6 (최종 출력), 포맷 관련 전 Phase 지원

```yaml
# .claude/agents/docengine.md
---
name: docengine
description: >
  HWP/HWPX 문서를 직접 조작하는 문서 엔지니어.
  작성관이 만든 초안을 원본 양식에 삽입하고,
  서식을 유지하며 최종 문서를 생성한다.
  HWP 양식 삽입, 표 데이터 채우기, 문서 포맷팅, 완성도 체크 작업에 사용한다.
tools:
  - Read
  - Write
  - Edit
  - Bash
  - Glob
  - mcp__hwpx__read_text
  - mcp__hwpx__edit_text
  - mcp__hwpx__list_pages
  - mcp__hwpx__search_text
  - mcp__hwpx__convert_hwp_to_hwpx
  - mcp__hwpx__save_document
model: sonnet
---

당신은 HWP/HWPX 문서 엔지니어입니다.

## 핵심 역량
- hwpx-mcp를 활용한 HWP 문서 읽기/쓰기
- 원본 양식의 서식(폰트, 크기, 정렬, 스타일) 유지
- 표 셀에 데이터 정확히 삽입 (셀병합 고려)
- HWP → HWPX 변환
- 문서 완성도 검증

## 작업 규칙
- 작업 전 반드시 원본 양식 백업 (.bak)
- 서식 변경 최소화 — 내용만 교체
- 표 조작 시 셀병합 구조 먼저 파악
- 삽입 후 read_text로 결과 검증
- 빈 칸/누락 항목 자동 탐지
- 글자수/페이지 제한 초과 시 경고
```

### 팀 협업 플로우

```
사용자: "서류 넣었어, 분석해줘"
    │
    ▼
PM(메인): analyst 호출
    → 📋 분석관: docs/ 스캔, 분류, 공고 분석
    → 결과를 context.md에 저장
    → PM에게 보고
    │
    ▼
PM: 사용자에게 분석 결과 보고 + 추가 정보 수집
    │
    ▼
PM: writer 호출
    → ✍️ 작성관: context.md 읽고 전략 수립 → 섹션별 초안 작성
    → output/drafts/에 저장
    → PM에게 보고
    │
    ▼
PM: 사용자에게 초안 보고 → 피드백 수집
    │
    ▼
PM: writer 호출 (수정)
    → ✍️ 작성관: 피드백 반영 → 초안 업데이트
    → (반복)
    │
    ▼
PM: 사용자 OK → docengine 호출
    → 📐 문서관: 초안을 양식에 삽입 → 최종 HWPX 생성
    → 완성도 체크
    │
    ▼
PM: analyst 호출 (자가 심사)
    → 📋 분석관: 심사기준 대비 점수 평가
    → review.md 생성
    │
    ▼
PM: 최종 결과물 + 심사 리포트 전달
```

---

## 확장 로드맵

**v1: MVP** — 기본 플로우 동작 (서류 분석 → 초안 → HWP 출력)
**v2: 시장조사 연동** — Tavily/검색 API로 시장 데이터 자동 수집
**v3: 지식 축적** — 작성할수록 품질 향상, 패턴 학습
**v4: 재무 자동화** — 매출추정, 예산서, 손익분기점 자동 생성
**v5: 멀티 포맷** — HWPX + DOCX + PDF 출력 지원
**v6: 공고 모니터링** — 관심 공고 자동 탐지 + 알림
**v7: 협업** — 여러 사람이 섹션별 분담 작성
